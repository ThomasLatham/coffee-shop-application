  <br>
  <h1 style="text-align: center;">Your Cart</h1>

  <div>

    <br>
    <h4>Cart Items</h4>
    <table>

      <tr>
        <th></th>
        <th >Items</th>
        <th>Price/Item</th>
        <th>Count</th>
        <th>Subtotal</th>
        <th>Remove Item</th>
      </tr>

      <tr *ngFor="let cartItem of cart; let i = index">

        <td> <img [src]="cartItem[0].orderItem.menuItem.itemPic.picName" [alt]="cartItem[0].orderItem.menuItem.itemPic.picType" width="100" height="100"> </td>

        <td style="text-align: left;"> 
          <table style="border: white;">
            <tr>
              <td style="border-bottom: white;">{{cartItem[0].orderItem.menuItem.itemName}}: </td>
              <td style="border-bottom: white;">{{cartItem[0].orderItem.menuItem.itemPrice | currency:'USD' }}</td>
            </tr>
            <tr *ngFor="let ingredientPack of cartItem">
              <ng-container *ngIf="ingredientPack.ingredient">
                <td style="border-bottom: white;">{{ingredientPack.ingredient.ingredientName}} x {{ingredientPack.ingredientCount}} = </td>
                <td style="border-bottom: white;">{{ (ingredientPack.ingredient.cost * ingredientPack.ingredientCount) | currency:'USD' }}</td>
            </ng-container>
            </tr>
          </table>
        </td>

        <span></span>

        <td style="vertical-align: middle;">
          <span style="font-size: 24pt; vertical-align: middle;">x {{cartItem[0].orderItem.itemCount}} </span>
          <span style="vertical-align: middle;">
              <tr><button (click)="increaseCount(cartItem)">increase</button></tr>
              <tr *ngIf="cartItem[0].orderItem.itemCount > 1" ><button (click)="decreaseCount(cartItem)">decrease</button></tr> 
          </span>
        </td>

        <td>{{subtotals[i] | currency: 'USD'}}</td>

        <td><button (click)="removeFromCart(cartItem)">remove from cart</button></td>

      </tr>
    </table>

    <br>
    <br>

    <h4>Checkout</h4>
    <table>
      <tr>
        <th>Delivery/Pickup</th>
        <th>Payment Method</th>
        <th>Order Total</th>
        <th>Submit Order</th>
      </tr>

      <tr>
        <td>
          <label for="deliveries"></label>
          <select name="deliveries" id="deliveries" [(ngModel)]="delivery">
            <option [ngValue]="false">Pickup</option>
            <option [ngValue]="true">Delivery</option>
          </select>
        </td>
        <td>
          <label for="payments"></label>
          <select name="payments" id="payments" [(ngModel)]="paymentType">
            <option [ngValue]="1">Cash</option>
          </select>
        </td>
        <td>{{total | currency: 'USD'}}</td>
        <td *ngIf="user && cart.length; else userBlock">
          <button (click)="submitOrder()">submit order</button>
        </td>
        <ng-template #userBlock>
          <td *ngIf="!user; else cartBlock">
            Please sign in to place order.
          </td>
          <ng-template #cartBlock>
            <td>
              Cannot submit empty order.
            </td>

          </ng-template>
        </ng-template>
        
      </tr>
    </table>
</div>


    
       
